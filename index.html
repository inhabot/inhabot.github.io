<!DOCTYPE html>
<html lang="ko"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>test</title>
  </head>
  <body>
    <audio id="myAudio" loop>
        <source src="src/img/t-trigger.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>
    <button id="playPauseBtn">일시정지/재생</button>
    <button >아무 의미없는 버튼</button>
    
    <p style="width: 400px; white-space: pre;">크롬에서는 사용자 설정에 따라 자동재생이 안되는 경우가 있는데 
이떄는 재생버튼을 2회 눌러야 재생되네요. 
사파리, 카카오 인앱브라우저는 자동 재생 잘됨. </p>
    <script>
      var myAudio = document.getElementById("myAudio");
      var playPauseBtn = document.getElementById("playPauseBtn");
      var volumeControl = document.getElementById("volumeControl");
      var isPlaying = false;

      // 페이지 로드 시 오디오 재생
      window.onload = function() {
          myAudio.play();
          isPlaying = true;
      };

      // 일시정지/재생 버튼 이벤트 리스너
      playPauseBtn.addEventListener("click", function() {
          if (isPlaying) {
              myAudio.pause();
          } else {
              myAudio.play();
          }
          isPlaying = !isPlaying;
      });


      // 오디오 재생 상태 추적
      myAudio.onplaying = function() {
          isPlaying = true;
      };
      myAudio.onpause = function() {
          isPlaying = false;
      };
    </script>
</body>
</html>